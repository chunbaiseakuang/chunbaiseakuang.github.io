<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01.JavaScript基本类型 | kkkuang的知识库</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/jennie1.ico">
    <meta name="description" content="呜哇">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.495d9abf.css" as="style"><link rel="preload" href="/assets/js/app.a82c88d2.js" as="script"><link rel="preload" href="/assets/js/2.d1d3a4ee.js" as="script"><link rel="preload" href="/assets/js/12.2513d22b.js" as="script"><link rel="prefetch" href="/assets/js/10.d91cf0d3.js"><link rel="prefetch" href="/assets/js/11.084f1158.js"><link rel="prefetch" href="/assets/js/13.6a6747a1.js"><link rel="prefetch" href="/assets/js/14.dc7a59c4.js"><link rel="prefetch" href="/assets/js/15.a9e642ce.js"><link rel="prefetch" href="/assets/js/16.5a8a2e50.js"><link rel="prefetch" href="/assets/js/17.f181867e.js"><link rel="prefetch" href="/assets/js/18.ba3c6933.js"><link rel="prefetch" href="/assets/js/19.846445bc.js"><link rel="prefetch" href="/assets/js/20.b2303ea0.js"><link rel="prefetch" href="/assets/js/21.1122dad1.js"><link rel="prefetch" href="/assets/js/22.9d3b0f46.js"><link rel="prefetch" href="/assets/js/23.5a131b68.js"><link rel="prefetch" href="/assets/js/24.05feb3f1.js"><link rel="prefetch" href="/assets/js/25.b0a3fe74.js"><link rel="prefetch" href="/assets/js/26.486fc8ac.js"><link rel="prefetch" href="/assets/js/27.3527395d.js"><link rel="prefetch" href="/assets/js/28.1d4484ad.js"><link rel="prefetch" href="/assets/js/29.d9188d03.js"><link rel="prefetch" href="/assets/js/3.c52576f6.js"><link rel="prefetch" href="/assets/js/30.e1a69a19.js"><link rel="prefetch" href="/assets/js/31.0d112323.js"><link rel="prefetch" href="/assets/js/32.1ffadf78.js"><link rel="prefetch" href="/assets/js/33.661deaab.js"><link rel="prefetch" href="/assets/js/34.d4821f1a.js"><link rel="prefetch" href="/assets/js/35.cb3269b8.js"><link rel="prefetch" href="/assets/js/36.5d3a7f3f.js"><link rel="prefetch" href="/assets/js/37.210b72b9.js"><link rel="prefetch" href="/assets/js/38.77b44fd6.js"><link rel="prefetch" href="/assets/js/39.a3c9e1c4.js"><link rel="prefetch" href="/assets/js/4.7fea489f.js"><link rel="prefetch" href="/assets/js/40.5ae8dc67.js"><link rel="prefetch" href="/assets/js/41.ab3afa52.js"><link rel="prefetch" href="/assets/js/42.0bc710d3.js"><link rel="prefetch" href="/assets/js/43.3eca11e2.js"><link rel="prefetch" href="/assets/js/44.a6af4583.js"><link rel="prefetch" href="/assets/js/45.08c4b6f3.js"><link rel="prefetch" href="/assets/js/46.07556dbd.js"><link rel="prefetch" href="/assets/js/47.e60136de.js"><link rel="prefetch" href="/assets/js/48.60c78b7b.js"><link rel="prefetch" href="/assets/js/49.ef8c0a77.js"><link rel="prefetch" href="/assets/js/5.4f56dc33.js"><link rel="prefetch" href="/assets/js/50.f8f8a4fe.js"><link rel="prefetch" href="/assets/js/51.f5c18bd6.js"><link rel="prefetch" href="/assets/js/52.02290001.js"><link rel="prefetch" href="/assets/js/53.0f3b07da.js"><link rel="prefetch" href="/assets/js/54.ce02cd26.js"><link rel="prefetch" href="/assets/js/55.81b3d7a8.js"><link rel="prefetch" href="/assets/js/56.18dec65b.js"><link rel="prefetch" href="/assets/js/57.58218246.js"><link rel="prefetch" href="/assets/js/58.6a34fc8a.js"><link rel="prefetch" href="/assets/js/59.1dd8884b.js"><link rel="prefetch" href="/assets/js/6.72ad7c85.js"><link rel="prefetch" href="/assets/js/60.36c9403e.js"><link rel="prefetch" href="/assets/js/61.0942e460.js"><link rel="prefetch" href="/assets/js/62.88a0b2e9.js"><link rel="prefetch" href="/assets/js/63.b34449f2.js"><link rel="prefetch" href="/assets/js/64.9626b5fa.js"><link rel="prefetch" href="/assets/js/65.ed86fc46.js"><link rel="prefetch" href="/assets/js/66.0e294e88.js"><link rel="prefetch" href="/assets/js/67.a5ac12d5.js"><link rel="prefetch" href="/assets/js/68.d6a0c7bc.js"><link rel="prefetch" href="/assets/js/69.ebd0f8bd.js"><link rel="prefetch" href="/assets/js/7.2e1847d4.js"><link rel="prefetch" href="/assets/js/70.6cdc7ac1.js"><link rel="prefetch" href="/assets/js/71.30cb7989.js"><link rel="prefetch" href="/assets/js/72.454d9d76.js"><link rel="prefetch" href="/assets/js/73.d043f2f3.js"><link rel="prefetch" href="/assets/js/74.f88352ce.js"><link rel="prefetch" href="/assets/js/75.7e064011.js"><link rel="prefetch" href="/assets/js/76.81a995d4.js"><link rel="prefetch" href="/assets/js/77.899f6162.js"><link rel="prefetch" href="/assets/js/78.ac142af1.js"><link rel="prefetch" href="/assets/js/79.150c553d.js"><link rel="prefetch" href="/assets/js/8.48374f86.js"><link rel="prefetch" href="/assets/js/80.f92ea760.js"><link rel="prefetch" href="/assets/js/81.2667c791.js"><link rel="prefetch" href="/assets/js/82.dbae59c8.js"><link rel="prefetch" href="/assets/js/83.13bdf690.js"><link rel="prefetch" href="/assets/js/84.6307b62b.js"><link rel="prefetch" href="/assets/js/85.ee048a04.js"><link rel="prefetch" href="/assets/js/86.1fce373d.js"><link rel="prefetch" href="/assets/js/87.327dc572.js"><link rel="prefetch" href="/assets/js/88.7ac77895.js"><link rel="prefetch" href="/assets/js/9.9895cb7d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.495d9abf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">kkkuang的知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/work/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1/Brush_algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  ES6
</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/work/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow down"></span></button> <button type="button" aria-label="GitHub" class="mobile-dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/OBKoro1/Brush_algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/JavaScript基本类型/" aria-current="page" class="active sidebar-link">01.JavaScript基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_1-数据类型" class="sidebar-link">1. 数据类型</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_2-区分基本类型和对象类型" class="sidebar-link">2. 区分基本类型和对象类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_2-1-内存及可变性" class="sidebar-link">2.1 内存及可变性</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_2-2-复制" class="sidebar-link">2.2 复制</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_2-3-比较" class="sidebar-link">2.3 比较</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_2-4-值传递和引用传递" class="sidebar-link">2.4 值传递和引用传递</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_3-分不清的null和undefined" class="sidebar-link">3. 分不清的null和undefined</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_4-symbol的特性" class="sidebar-link">4. Symbol的特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_4-1-独一无二" class="sidebar-link">4.1 独一无二</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_4-2-基本类型" class="sidebar-link">4.2 基本类型</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_4-3-不可枚举" class="sidebar-link">4.3 不可枚举</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_4-4-symbol的应用场景" class="sidebar-link">4.4 Symbol的应用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_5-typeof-vs-instanceof" class="sidebar-link">5. typeof vs instanceof</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_6-类型转换" class="sidebar-link">6. 类型转换</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_7-bigint-大整数" class="sidebar-link">7.BigInt(大整数)</a></li><li class="sidebar-sub-header"><a href="/pages/JavaScript基本类型/#_8-逻辑运算符" class="sidebar-link">8.逻辑运算符</a></li></ul></li><li><a href="/pages/JavaScript深入之词法作用域和动态作用域/" class="sidebar-link">02.JavaScript深入之词法作用域和动态作用域</a></li><li><a href="/pages/JavaScript深入闭包/" class="sidebar-link">03.JavaScript深入闭包</a></li><li><a href="/pages/JavaScript深入this/" class="sidebar-link">04.JavaScript深入this</a></li><li><a href="/pages/JavaScript深入之从原型到原型链/" class="sidebar-link">05.JavaScript深入之从原型到原型链</a></li><li><a href="/pages/JavaScript深浅拷贝/" class="sidebar-link">06.JavaScript深浅拷贝</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript基本类型"><a href="#javascript基本类型" class="header-anchor">#</a> JavaScript基本类型</h1> <h2 id="_1-数据类型"><a href="#_1-数据类型" class="header-anchor">#</a> 1. 数据类型</h2> <ul><li>基本类型
<ul><li>Undefined：只包含一个值：undefined</li> <li>Null：只包含一个值：null</li> <li>Boolean：包含两个值：true和false</li> <li>Number：整数或浮点数，还有一些特殊值（-Infinity、+Infinity、NaN）</li> <li>String：一串表示文本值的字符序列</li> <li>Symbol：一种实例是唯一且不可改变的数据类型</li> <li>BigInt: 大整数(BigInt 是一个内置的对象，它提供了一种方式来表示所有大于 2^53 的数字，也就是 JavaScript 原始类型 Number 能够能够可靠表示的最大数字)</li></ul></li> <li>引用类型
<ul><li>Object：除了常用的Object，Array、Function等都属于特殊的对象</li></ul></li> <li>注意点
<ul><li>原始类型存储的都是值，是没有函数可以调用的，比如 undefined.toString()会报错，但是'1'.toString() 是可以使用的。其实在这种情况下，'1' 已经不是原始类型了，而是被强制转换成了 String 类型也就是对象类型，所以可以调用 toString 函数。</li> <li>JS 的 number 类型是浮点类型的，在使用中会遇到某些 Bug，比如 0.1 + 0.2 !== 0.3;这是JS的历史原因，因为JavaScript是&quot;弱类型&quot;语言，但在小数点运算时，JavaScript将隐式的采取IEEE754二进制浮点运算。而不是我们想象中的十进制运算。而十进制和二进制转换时，就可能出现精度丢失的问题。在两数相加时，会先转换成二进制，0.1 和 0.2 转换成二进制的时候尾数会发生无限循环，然后进行对阶运算，JS 引擎对二进制进行截断，所以造成精度丢失。
<ul><li>怎么解决精度问题的解决方案：1.将数字转成整数：(0.1<em>10+0.2</em>10)/10</li> <li>2.第三方库:Math.js、big.js</li></ul></li> <li><font color="red">虽然 typeof null 会输出 object，但是这只是 JS 存在的一个悠久 Bug。在 JS 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，然而 null 表示为全零，所以将它错误的判断为 object </font></li></ul></li></ul> <h2 id="_2-区分基本类型和对象类型"><a href="#_2-区分基本类型和对象类型" class="header-anchor">#</a> 2. 区分基本类型和对象类型</h2> <h3 id="_2-1-内存及可变性"><a href="#_2-1-内存及可变性" class="header-anchor">#</a> 2.1 内存及可变性</h3> <ul><li>上面所提到的基本类型，在ECMAScript标准中，它们被定义为primitive values，即原始值，代表值本身是不可被改变的。</li> <li>栈内存：
<ul><li>存储的值大小固定</li> <li>空间较小</li> <li>可以直接操作其保存的变量，运行效率高</li> <li>由系统自动分配存储空间</li></ul></li> <li>JavaScript中的原始类型的值被直接存储在栈中，在变量定义时，栈就为其分配好了内存空间</li> <li>堆内存：
<ul><li>存储的值大小不定，可动态调整</li> <li>空间较大，运行效率低</li> <li>无法直接操作其内部存储，使用引用地址读取</li> <li>通过代码进行分配空间</li></ul></li> <li>相对于上面具有不可变性的原始类型，我习惯把对象称为引用类型，引用类型的值实际存储在堆内存中，它在栈中只存储了一个固定长度的地址，这个地址指向堆内存中的值。
<img src="http://www.conardli.top/img/bl/bl_3_heap.png" alt="引用类型"></li> <li>引用类型就不再具有不可变性，以数组为例，它的很多方法都可以改变它自身。
<ul><li>pop() 删除数组最后一个元素，如果数组为空，则不改变数组，返回undefined，改变原数组，返回被删除的元素</li> <li>push()向数组末尾添加一个或多个元素，改变原数组，返回新数组的长度</li> <li>shift()把数组的第一个元素删除，若空数组，不进行任何操作，返回undefined,改变原数组，返回第一个元素的值</li> <li>unshift()向数组的开头添加一个或多个元素，改变原数组，返回新数组的长度</li> <li>reverse()颠倒数组中元素的顺序，改变原数组，返回该数组</li> <li>sort()对数组元素进行排序，改变原数组，返回该数组</li> <li>splice()从数组中添加/删除项目，改变原数组，返回被删除的元素</li></ul></li></ul> <h3 id="_2-2-复制"><a href="#_2-2-复制" class="header-anchor">#</a> 2.2 复制</h3> <ul><li>当我们把一个变量的值复制到另一个变量上时，原始类型和引用类型的表现是不一样的，先来看看原始类型：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'ConardLi'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> name2 <span class="token operator">=</span> name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="http://www.conardli.top/img/bl/bl_4_copy.png" alt="基本类型复制"></p> <ul><li>内存中有一个变量name，值为ConardLi。我们从变量name复制出一个变量name2，此时在内存中创建了一个块新的空间用于存储ConardLi，虽然两者值是相同的，但是两者指向的内存空间完全不同，这两个变量参与任何操作都互不影响。</li> <li>复制一个引用类型：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'ConardLi'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>当我们复制引用类型的变量时，实际上复制的是栈中存储的地址，所以复制出来的obj2实际上和obj指向的堆中同一个对象。因此，我们改变其中任何一个变量的值，另一个变量都会受到影响，这就是为什么会有深拷贝和浅拷贝的原因。
<img src="http://www.conardli.top/img/bl/bl_5_copy.png" alt="引用类型复制"></li></ul> <h3 id="_2-3-比较"><a href="#_2-3-比较" class="header-anchor">#</a> 2.3 比较</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'ConardLi'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> name2 <span class="token operator">=</span> <span class="token string">'ConardLi'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name <span class="token operator">===</span> name2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'ConardLi'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'ConardLi'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">===</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>对于原始类型，比较时会直接比较它们的值，如果值相等，即返回true。对于引用类型，比较时会比较它们的引用地址，虽然两个变量在堆中存储的对象具有的属性值都是相等的，但是它们被存储在了不同的存储空间，因此比较值为false。
<img src="http://www.conardli.top/img/bl/bl_6_compare.png" alt="引用类型和基本类型比较"></li></ul> <h3 id="_2-4-值传递和引用传递"><a href="#_2-4-值传递和引用传递" class="header-anchor">#</a> 2.4 值传递和引用传递</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'ConardLi'</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    name <span class="token operator">=</span> <span class="token string">'code秘密花园'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">changeValue</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>执行上面的代码，如果最终打印出来的name是'ConardLi'，没有改变，说明函数参数传递的是变量的值，即值传递。如果最终打印的是'code秘密花园'，函数内部的操作可以改变传入的变量，那么说明函数参数传递的是引用，即引用传递。很明显，上面的执行结果是'ConardLi'，<strong>即函数参数仅仅是被传入变量复制给了的一个局部变量，即值传递,改变这个局部变量不会对外部变量产生影响</strong>。</li> <li>首先明确一点，ECMAScript中所有的函数的参数都是按值传递的。</li> <li>同样的，当函数参数是引用类型时，我们同样将参数复制了一个副本到局部变量，只不过复制的这个副本是指向堆内存中的地址而已，我们在函数内部对对象的属性进行操作，实际上和外部变量指向堆内存中的值相同，但是这并不代表着引用传递，下面我们再按一个例子：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">changeValue</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ConardLi'</span><span class="token punctuation">;</span>
    obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'code秘密花园'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">changeValue</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ConardLi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>可见，函数参数传递的并不是变量的引用，而是变量拷贝的副本，当变量是原始类型时，这个副本就是值本身，当变量是引用类型时，这个副本是指向堆内存的<strong>地址</strong>。所以，再次记住：ECMAScript中所有的函数的参数都是<strong>按值传递</strong>的。</li></ul> <h2 id="_3-分不清的null和undefined"><a href="#_3-分不清的null和undefined" class="header-anchor">#</a> 3. 分不清的null和undefined</h2> <ul><li>null:表示被赋值过的对象，刻意把一个对象赋值为null，故意表示其为空，不应有值。所以对象的某个属性值为null是正常的，null转换为数值时值为0。</li> <li>undefined:表示“缺少值”，即此处应有一个值，但还没有定义，如果一个对象的某个属性值为undefined，这是不正常的，如obj.name=undefined，我们不应该这样写，应该直接delete obj.name。undefined转为数值时为NaN(非数字值的特殊值)</li> <li>null == undefined</li></ul> <h2 id="_4-symbol的特性"><a href="#_4-symbol的特性" class="header-anchor">#</a> 4. Symbol的特性</h2> <h3 id="_4-1-独一无二"><a href="#_4-1-独一无二" class="header-anchor">#</a> 4.1 独一无二</h3> <ul><li>直接使用Symbol()创建新的symbol变量，可选用一个字符串用于<strong>描述</strong>。当参数为对象时，将调用对象的toString()方法。</li> <li>注意，Symbol函数的参数只是表示对当前 Symbol 值的描述，因此相同参数的Symbol函数的返回值是不相等的。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> sym1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Symbol() </span>
    <span class="token keyword">var</span> sym2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'ConardLi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Symbol(ConardLi)</span>
    <span class="token keyword">var</span> sym3 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'ConardLi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Symbol(ConardLi)</span>
    <span class="token keyword">var</span> sym4 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">'ConardLi'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol([object Object])</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym2 <span class="token operator">===</span> sym3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>

    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Symbol(abc)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>如果我们想创造两个相等的Symbol变量，可以使用Symbol.for(key)。</li> <li>使用给定的key搜索现有的symbol，如果找到则<strong>返回</strong>该symbol。否则将使用给定的key在全局symbol注册表中创建一个新的symbol。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> sym1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'ConardLi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sym2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'ConardLi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym1 <span class="token operator">===</span> sym2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>Symbol.for()与Symbol()这两种写法，都会生成新的 Symbol。它们的区别是，前者会被<strong>登记</strong>在<strong>全局环境</strong>中供搜索，后者不会。Symbol.for()不会每次调用就返回一个新的 Symbol 类型的值，而是会先检查给定的key是否已经存在，如果不存在才会新建一个值。比如，如果你调用Symbol.for(&quot;cat&quot;)30 次，每次都会返回同一个 Symbol 值，但是调用Symbol(&quot;cat&quot;)30 次，会返回 30 个不同的 Symbol 值。</li> <li>Symbol.keyFor()方法返回一个已登记的 Symbol 类型值的key。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// &quot;foo&quot;</span>

    <span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>上面代码中，变量s2属于未登记的 Symbol 值，所以返回undefined。注意，Symbol.for()为 Symbol 值登记的名字，是全局环境的，不管有没有在全局环境运行。</li> <li>和 Symbol() 不同的是，用 Symbol.for() 方法创建的的 symbol 会被放入一个全局 symbol 注册表中。Symbol.for() 并不是每次都会创建一个新的 symbol，它会首先检查给定的 key 是否已经在注册表中了。假如是，则会直接返回上次存储的那个。否则，它会再新建一个。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">//Symbol()定义的值不放入全局 symbol 注册表中</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> c <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>  <span class="token comment">// a b c均不等,c d相等</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>

    Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个 symbol 并放入 全局symbol 注册表中，键为 &quot;foo&quot;</span>
    Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从 symbol 注册表中读取键为&quot;foo&quot;的 symbol</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_4-2-基本类型"><a href="#_4-2-基本类型" class="header-anchor">#</a> 4.2 基本类型</h3> <ul><li>注意，Symbol函数前不能使用new命令，否则会报错。这是因为生成的 Symbol 是一个基本类型的值，不是对象。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'symbol'</span> <span class="token comment">// true</span>
    <span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'ConardLi'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'symbol'</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_4-3-不可枚举"><a href="#_4-3-不可枚举" class="header-anchor">#</a> 4.3 不可枚举</h3> <ul><li>Symbol 作为属性名，遍历对象的时候，该属性不会出现在for...in、for...of循环中，也不会被Object.keys()、Object.getOwnPropertyNames()、JSON.stringify()返回。但是，它也不是私有属性，有一个Object.getOwnPropertySymbols()方法，可以获取指定对象的所有 Symbol 属性名。该方法返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    obj<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> objectSymbols <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [Symbol(a), Symbol(b)]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_4-4-symbol的应用场景"><a href="#_4-4-symbol的应用场景" class="header-anchor">#</a> 4.4 Symbol的应用场景</h3> <ul><li>借助Symbol类型的不可枚举，我们可以在类中模拟私有属性;防止属性污染,在某些情况下，我们可能要为对象添加一个属性，此时就有可能造成属性覆盖，用Symbol作为对象属性可以保证永远不会出现同名属性。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    obj<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'World'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_5-typeof-vs-instanceof"><a href="#_5-typeof-vs-instanceof" class="header-anchor">#</a> 5. typeof vs instanceof</h2> <ul><li>typeof 对于原始类型来说，除了 null 都可以显示正确的类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">typeof</span> <span class="token number">1</span> <span class="token comment">// 'number'</span>
    <span class="token keyword">typeof</span> <span class="token string">'1'</span> <span class="token comment">// 'string'</span>
    <span class="token keyword">typeof</span> <span class="token keyword">undefined</span> <span class="token comment">// 'undefined'</span>
    <span class="token keyword">typeof</span> <span class="token boolean">true</span> <span class="token comment">// 'boolean'</span>
    <span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 'symbol'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>typeof 对于对象来说，除了函数都会显示 object，所以说 typeof 并不能准确判断变量到底是什么类型</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 'object'</span>
    <span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 'object'</span>
    <span class="token keyword">typeof</span> console<span class="token punctuation">.</span>log <span class="token comment">// 'function'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>instanceof判断一个对象的正确类型,内部机制是通过原型链来判断</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span> <span class="token comment">// true</span>

    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello world'</span>
    str <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// false</span>

    <span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
    str1 <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_6-类型转换"><a href="#_6-类型转换" class="header-anchor">#</a> 6. 类型转换</h2> <p><img src="http://cdn.linxf96.com/2020/7/28/36628880-a4a7-4ca8-96cd-6ba221c96818.png" alt="类型转换"></p> <ul><li>转Boolean
在条件判断时，除了 undefined， null， false， NaN， ''， 0， -0，其他所有值都转为 true，包括所有对象。</li> <li>加法运算符
<ul><li>运算中其中一方为字符串，那么就会把另一方也转换为字符串</li> <li>如果一方不是字符串或者数字，那么会将它转换为数字或者字符串</li> <li>+ 'b' 等于 NaN，所以结果为 &quot;aNaN&quot;，你可能也会在一些代码中看到过 + '1' 的形式来快速获取 number 类型。</li> <li>除了加法的运算符来说，只要其中一方是数字，那么另一方就会被转为数字</li></ul></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'1'</span> <span class="token comment">// '11'</span>
    <span class="token boolean">true</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 2</span>
    <span class="token number">4</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// &quot;41,2,3&quot;</span>
    <span class="token string">'a'</span> <span class="token operator">+</span> <span class="token operator">+</span> <span class="token string">'b'</span> <span class="token comment">// -&gt; &quot;aNaN&quot;</span>
    <span class="token number">4</span> <span class="token operator">*</span> <span class="token string">'3'</span> <span class="token comment">// 12</span>
    <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
    <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>对象在转换类型的时候，会调用内置的 [[ToPrimitive]] 函数，对于该函数来说，算法逻辑一般来说如下：
<ul><li>如果已经是原始类型了，那就不需要转换了</li> <li>调用 x.valueOf()，如果转换为基础类型，就返回转换的值</li> <li>调用 x.toString()，如果转换为基础类型，就返回转换的值</li> <li>如果都没有返回原始类型，就会报错</li></ul></li> <li>对象的Symbol.toPrimitive属性，指向一个方法。该对象被转为原始类型的值时，会调用这个方法，返回该对象对应的原始类型值,你可以重写 Symbol.toPrimitive ，该方法在转原始类型时调用优先级最高</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token number">1</span> <span class="token operator">+</span> a <span class="token comment">// =&gt; 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>== vs ===
<ul><li>首先会判断两者<strong>类型</strong>是否相同。相同的话就是比大小了</li> <li>类型不相同的话，那么就会进行类型转换</li> <li>会先判断是否在对比 null 和 undefined，是的话就会返回 true</li> <li>判断两者类型是否为 string 和 number，是的话就会将字符串转换为 number</li> <li>判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断</li></ul></li></ul> <h2 id="_7-bigint-大整数"><a href="#_7-bigint-大整数" class="header-anchor">#</a> 7.BigInt(大整数)</h2> <ul><li>JavaScript 所有数字都保存成 64 位浮点数，这给数值的表示带来了两大限制。一是数值的精度只能到 53 个二进制位（相当于 16 个十进制位），大于这个范围的整数，JavaScript 是无法精确表示的，这使得 JavaScript 不适合进行科学和金融方面的精确计算。二是大于或等于2的1024次方的数值，JavaScript 无法表示，会返回Infinity</li> <li>BigInt 只用来表示<strong>整数</strong>，没有位数的限制，任何位数的整数都可以精确表示</li> <li>为了与 Number 类型区别，BigInt 类型的数据必须添加后缀n</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1234</span> <span class="token comment">// 普通整数</span>
    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1234n</span> <span class="token comment">// BigInt</span>
    <span class="token keyword">typeof</span> a <span class="token comment">// 'bigint'</span>

    <span class="token comment">// BigInt 的运算</span>
    <span class="token number">1n</span> <span class="token operator">+</span> <span class="token number">2n</span> <span class="token comment">// 3n</span>

    <span class="token comment">//类型不一样，值相同</span>
    <span class="token number">42n</span> <span class="token operator">===</span> <span class="token number">42</span> <span class="token comment">// false</span>
    <span class="token number">42n</span> <span class="token operator">==</span> <span class="token number">42</span> <span class="token comment">// true</span>

    <span class="token comment">// BigInt 可以使用负号（-），但是不能使用正号（+），因为会与 asm.js 冲突。</span>
    <span class="token comment">// 因为在 webAssembly(asm.js) 中，+x 始终表示一个 Number 或异常情况，联想字符串前面加+转数字</span>
    <span class="token operator">-</span><span class="token number">42n</span> <span class="token comment">// 正确</span>
    <span class="token operator">+</span><span class="token number">42n</span> <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li>JavaScript 原生提供BigInt对象，可以用作构造函数生成 BigInt 类型的数值。转换规则基本与Number()一致，将其他类型的值转为 BigInt。BigInt()构造函数必须有参数，而且参数必须可以正常转为数值</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment">// 123n</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span> <span class="token comment">// 123n</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 0n</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 1n</span>

    <span class="token keyword">new</span> <span class="token class-name">BigInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// TypeError</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//TypeError</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// TypeError</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'123n'</span><span class="token punctuation">)</span> <span class="token comment">// SyntaxError 字符串123n无法解析成 Number 类型</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token comment">// SyntaxError</span>

    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token comment">// RangeError</span>
    <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">'1.5'</span><span class="token punctuation">)</span> <span class="token comment">// SyntaxError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>BigInt 不能与普通数值进行混合运算</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token string">''</span> <span class="token operator">+</span> <span class="token number">123n</span> <span class="token comment">// &quot;123&quot;</span>
    <span class="token number">1n</span> <span class="token operator">+</span> <span class="token number">1.3</span> <span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_8-逻辑运算符"><a href="#_8-逻辑运算符" class="header-anchor">#</a> 8.逻辑运算符</h2> <ul><li>&amp;&amp;：第一个值为false则输出第一个值，否则输出第二个值</li> <li>||：第一个值为true则输出第一个值，否则输出第二个值</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">5</span> <span class="token operator">&amp;&amp;</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当结果为真时，返回第二个为真的值4 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当结果为假时，返回第一个为假的值0 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">5</span> <span class="token operator">||</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当结果为真时，返回第一个为真的值5 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当结果为假时，返回第二个为假的值0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/JavaScript深入之词法作用域和动态作用域/">
        02.JavaScript深入之词法作用域和动态作用域
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a82c88d2.js" defer></script><script src="/assets/js/2.d1d3a4ee.js" defer></script><script src="/assets/js/12.2513d22b.js" defer></script>
  </body>
</html>
